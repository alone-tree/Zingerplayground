<header class="site-header">
  <nav class="site-nav">
    <!-- Logo -->
    <div class="site-logo">
      <a href="{{ .Site.BaseURL }}">
        <span class="logo-full">{{ .Site.Params.logo | default .Site.Title }}</span>
        <span class="logo-short">{{ .Site.Params.logoShort | default "ZK" }}</span>
      </a>
    </div>
    
    <!-- 右侧按钮组 (移动端) -->
    <div class="mobile-controls">
      <!-- 深色模式切换按钮 -->
      <button class="theme-toggle" id="theme-toggle" aria-label="切换深色模式">
        <span class="theme-icon-light">☀️</span>
        <span class="theme-icon-dark" style="display:none;">🌙</span>
      </button>
      
      <!-- 汉堡菜单按钮 -->
      <button class="menu-toggle" id="menu-toggle" aria-label="菜单">
        ☰
      </button>
    </div>
    
    <!-- 导航菜单 -->
    <ul class="nav-menu" id="nav-menu">
      {{ range .Site.Menus.main }}
        {{ if .HasChildren }}
          <!-- 带下拉菜单的导航项 (桌面端) -->
          <li class="nav-item nav-item-desktop">
            <a href="{{ .URL }}">{{ .Name }}</a>
            <ul class="dropdown-menu">
              {{ range .Children }}
                <li><a href="{{ .URL }}">{{ .Name }}</a></li>
              {{ end }}
            </ul>
          </li>
          <!-- 移动端直接显示子菜单项 -->
          {{ range .Children }}
            <li class="nav-item nav-item-mobile">
              <a href="{{ .URL }}">{{ .Name }}</a>
            </li>
          {{ end }}
        {{ else }}
          <!-- 普通导航项 -->
          <li class="nav-item">
            <a href="{{ .URL }}" {{ if $.IsMenuCurrent "main" . }}class="active"{{ end }}>
              {{ .Name }}
            </a>
          </li>
        {{ end }}
      {{ end }}
      
      <!-- 深色模式切换按钮 (桌面端) -->
      <li class="nav-item nav-item-desktop">
        <button class="theme-toggle theme-toggle-desktop" id="theme-toggle-desktop" aria-label="切换深色模式">
          <span class="theme-icon-light">☀️</span>
          <span class="theme-icon-dark" style="display:none;">🌙</span>
        </button>
      </li>
    </ul>
  </nav>
</header>

